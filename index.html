<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML Editor</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="index.css">
    <script src="index.js"></script>
   
</head>

<body>
    <div id="script-container">
        <script await type="text/javascript" class="suuu">
            atOptions = {
                'key': 'ae0ebd6dcf1936f4306eadb0df4cb087',
                'format': 'iframe',
                'height': 50,
                'width': 320,
                'params': {}
            };
            document.write('<scr' + 'ipt type="text/javascript" src="http' + (location.protocol === 'https:' ? 's' : '') + '://www.profitabledisplayformat.com/ae0ebd6dcf1936f4306eadb0df4cb087/invoke.js"></scr' + 'ipt>');
        </script>
    </div>

    <div id="top-bar">
        <div>
            <button id="run-button" class="button"><i class="fas fa-play"></i><span> Run</span></button>
            <button id="change-orientation-button" class="button"><i class="fas fa-exchange-alt"></i><span> Change Orientation</span></button>
            <button id="change-theme-button" class="button"><i class="fas fa-adjust"></i><span> Change Theme</span></button>
            <button id="home-button" class="button" onclick="window.location.href='https://hoodaatwa.github.io/Main/'"><i class="fas fa-home"></i><span> Home</span></button>
        </div>
        <div>
            <button id="copy-button" class="button" onclick="copyCodeToClipboard()"><i class="fas fa-copy"></i><span> Copy to Clipboard</span></button>
            <button id="clear-button" class="button" onclick="clearCodeAndOutput()"><i class="fas fa-trash"></i><span> Clear</span></button>
        </div>
    </div>

    <div id="editor-container">
        <textarea id="code-input" placeholder="Write your HTML code here..."></textarea>
        <div id="output-container"></div>
    </div>

    <script>
        document.getElementById("run-button").addEventListener("click", function () {
            var codeInput = document.getElementById("code-input").value;
            var outputContainer = document.getElementById("output-container");

            // Clear previous output
            outputContainer.innerHTML = "";

            // Create an iframe to run the code
            var iframe = document.createElement("iframe");
            iframe.style.width = "100%";
            iframe.style.height = "100%";
            outputContainer.appendChild(iframe);

            // Write the code into the iframe
            iframe.contentDocument.write(codeInput);
            iframe.contentDocument.close();

            // Add full-screen button after creating the iframe
            var fullScreenButton = document.createElement("button");
            fullScreenButton.id = "full-screen-button";
            fullScreenButton.innerHTML = '<i class="fas fa-expand"></i> Full Screen';
            fullScreenButton.onclick = function () {
                toggleFullScreen(outputContainer);
            };
            outputContainer.appendChild(fullScreenButton);
        });

        document.getElementById("change-orientation-button").addEventListener("click", function () {
            var editorContainer = document.getElementById("editor-container");
            var codeInput = document.getElementById("code-input");
            var outputContainer = document.getElementById("output-container");

            // Toggle between horizontal and vertical layout
            if (editorContainer.style.flexDirection === "row") {
                editorContainer.style.flexDirection = "column";
                codeInput.style.width = "100%";
                outputContainer.style.width = "100%";
            } else {
                editorContainer.style.flexDirection = "row";
                codeInput.style.width = "50%";
                outputContainer.style.width = "50%";
            }
        });

        document.getElementById("change-theme-button").addEventListener("click", function () {
            document.body.classList.toggle("dark-mode");
        });

        function copyCodeToClipboard() {
            var codeInput = document.getElementById("code-input");
            codeInput.select();
            document.execCommand("copy");
        }

        function clearCodeAndOutput() {
            document.getElementById("code-input").value = "";
            document.getElementById("output-container").innerHTML = "";
        }

        function toggleFullScreen(element) {
            if (!document.fullscreenElement) {
                element.requestFullscreen().catch(err => {
                    console.error(`Error attempting to enable full-screen mode: ${err.message}`);
                });
            } else {
                document.exitFullscreen();
            }
        }
    </script>
</body>
</html>
